<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Dog Information</title>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/"><span class="navbar-brand mb-0 h1">K9 Division</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/dogs/all">Dogs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Handler</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">History</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<main class="body-height container-fluid mb-3">
    <div class="mt-3">
        <h3 class="text-center mb-3">Dog Details</h3>
        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <strong>Dog Information</strong>
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <table class="table">
                            <tbody>
                            <tr>
                                <th scope="row">Name</th>
                                <td th:text="${dog.name}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Breed</th>
                                <td th:text="${dog.breed}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Color</th>
                                <td th:text="${dog.color}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Cost</th>
                                <td th:text="${dog.cost}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Birth Date</th>
                                <td th:text="${dog.birthDate}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Gender</th>
                                <td th:text="${dog.gender}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Type of Purchase</th>
                                <td th:text="${dog.typeOfPurchase}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Purchase From</th>
                                <td th:text="${dog.purchaseFrom}"></td>
                            </tr>
                            <tr>
                                <th scope="row">Purchase Date</th>
                                <td th:text="${dog.purchaseDate}"></td>
                            </tr>
                            <tr th:if="${dog.normalTrainingFrom != NULL}">
                                <th scope="row">Normal Training From</th>
                                <td th:text="${dog.normalTrainingFrom}"></td>
                            </tr>
                            <tr th:if="${dog.normalTrainingTo != NULL}">
                                <th scope="row">Normal Training To</th>
                                <td th:text="${dog.normalTrainingTo}"></td>
                            </tr>
                            <tr th:if="${dog.normalTrainingPlace != NULL}">
                                <th scope="row">Normal Training Place</th>
                                <td th:text="${dog.normalTrainingPlace}"></td>
                            </tr>
                            <tr th:if="${dog.specialTrainingFrom != NULL}">
                                <th scope="row">Special Training From</th>
                                <td th:text="${dog.specialTrainingFrom}"></td>
                            </tr>
                            <tr th:if="${dog.specialTrainingTo != NULL}">
                                <th scope="row">Special Training To</th>
                                <td th:text="${dog.specialTrainingTo}"></td>
                            </tr>
                            <tr th:if="${dog.specialTrainingPlace != NULL}">
                                <th scope="row">Special Training Place</th>
                                <td th:text="${dog.specialTrainingPlace}"></td>
                            </tr>
                            <tr th:if="${dog.specialTrainingCategory != NULL}">
                                <th scope="row">Special Training Category</th>
                                <td th:text="${dog.specialTrainingCategory}"></td>
                            </tr>
                            <tr th:if="${dog.dogGrade != NULL}">
                                <th scope="row">Dog Grade</th>
                                <td th:text="${dog.dogGrade}"></td>
                            </tr>
                            <tr th:if="${dog.locatedAfterTraining != NULL}">
                                <th scope="row">Located After Training</th>
                                <td th:text="${dog.locatedAfterTraining}"></td>
                            </tr>
                            <tr th:if="${dog.performanceAtWork != NULL}">
                                <th scope="row">Performance At Work</th>
                                <td th:text="${dog.performanceAtWork}"></td>
                            </tr>
                            <th:block th:if="${dog.isRetired}">
                                <tr>
                                    <th scope="row">Retired Date</th>
                                    <td th:text="${dog.retiredDate}"></td>
                                </tr>
                                <tr>
                                    <th scope="row">Retired Reason</th>
                                    <td th:text="${dog.retiredReason}"></td>
                                </tr>
                            </th:block>
                            <th:block th:if="${dog.isDeath}">
                                <tr>
                                    <th scope="row">Death Date</th>
                                    <td th:text="${dog.deathDate}"></td>
                                </tr>
                                <tr>
                                    <th scope="row">Death Reason</th>
                                    <td th:text="${dog.deathReason}"></td>
                                </tr>
                            </th:block>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <strong>Vaccination Details</strong>
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p th:if="${dog.getVaccines().size() == 0}" class="text-center">There is no vaccination details available for this dog</p>
                        <table th:if="${dog.getVaccines().size() != 0}" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Vaccine Name</th>
                                    <th scope="col">Date Of Vaccination</th>
                                    <th scope="col">Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <th:block th:each="vaccine : ${dog.getVaccines()}" th:each-index="index">
                                    <tr>
                                        <td th:text="${vaccine.vaccineName}"></td>
                                        <td th:text="${vaccine.dateOfVaccination}"></td>
                                        <td th:text="${vaccine.remarks}"></td>
                                    </tr>
                                </th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        <strong>Health Follow Up</strong>
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p th:if="${dog.getHealthFollowUps().size() == 0}" class="text-center">There is no health follow up details available for this dog</p>
                        <table th:if="${dog.getHealthFollowUps().size() != 0}" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                    <th scope="col">Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <th:block th:each="healthFollowUp : ${dog.getHealthFollowUps()}" th:each-index="index">
                                    <tr>
                                        <td th:text="${healthFollowUp.type}"></td>
                                        <td th:text="${healthFollowUp.description}"></td>
                                        <td th:text="${healthFollowUp.remarks}"></td>
                                    </tr>
                                </th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
                        <strong>Wound Treatments</strong>
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p th:if="${dog.getWoundTreatments().size() == 0}" class="text-center">There is no wound treatment details available for this dog</p>
                        <table th:if="${dog.getWoundTreatments().size() != 0}" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Wound Type</th>
                                    <th scope="col">Treatment</th>
                                    <th scope="col">Recovered Period</th>
                                </tr>
                            </thead>
                            <tbody>
                                <th:block th:each="woundTreatment : ${dog.getWoundTreatments()}" th:each-index="index">
                                    <tr>
                                        <td th:text="${woundTreatment.woundType}"></td>
                                        <td th:text="${woundTreatment.treatment}"></td>
                                        <td th:text="${woundTreatment.recoveredPeriod}"></td>
                                    </tr>
                                </th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFive">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseThree">
                        <strong>Dog Handlers Details</strong>
                    </button>
                </h2>
                <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p th:if="${dog.getDogsHandlersHistories().size() == 0}" class="text-center">There is no dog handler details available for this dog</p>
                        <table th:if="${dog.getDogsHandlersHistories().size() != 0}" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Start Date</th>
                                    <th scope="col">End Date</th>
                                    <th scope="col">Dog Handler</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <th:block th:each="dogHandler : ${dog.getDogsHandlersHistories()}" th:each-index="index">
                                    <tr>
                                        <td th:text="${dogHandler.startDate}"></td>
                                        <td th:text="${dogHandler.endDate}"></td>
                                        <td th:text="${dogHandler.getHandlerHistory().getFirstName()}"></td>
                                        <td>
                                            <a href="@{/handlers/{id}(id=${dogHandler.getHandlerHistory().getId()})}" class="btn btn-primary"><i class="fa-solid fa-eye"></i> View Handler Details</a>
                                        </td>
                                    </tr>
                                </th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer>
    <div class="container-fluid d-flex justify-content-between bg-light">
        <p>&copy; All rights reserved.</p>
        <p>Solution by <a href="https://sci.pdn.ac.lk/siic/home" target="_blank">Science Industry Interaction Cell, University of Peradeniya, Sri Lanka.</a></p>
    </div>
</footer>

<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
</body>
</html>